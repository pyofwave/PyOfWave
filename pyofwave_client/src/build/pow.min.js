var requirejs,require,define;(function(){function d(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d==="..")if(c!==1||a[2]!==".."&&a[0]!=="..")c>0&&(a.splice(c-1,2),c-=2);else break;a=a.join("/")}return a}function e(a,d){return function(){return c.apply(null,b.call(arguments,0).concat([a,d]))}}function f(a){return function(b){return d(b,a)}}function g(b){return function(c){a[b]=c}}function h(b,c){var e,g,h=b.indexOf("!");return h!==-1?(e=d(b.slice(0,h),c),b=b.slice(h+1),g=a[e],g&&g.normalize?b=g.normalize(b,f(c)):b=d(b,c)):b=d(b,c),{f:e?e+"!"+b:b,n:b,p:g}}function i(b,c,d,f){var i=[],j,k,l,m,n,o;f||(f=b);if(typeof d=="function"){if(c)for(m=0;m<c.length;m++)o=h(c[m],f),l=o.f,l==="require"?i[m]=e(b):l==="exports"?(i[m]=a[b]={},j=!0):l==="module"?k=i[m]={id:b,uri:"",exports:a[b]}:l in a?i[m]=a[l]:o.p&&(o.p.load(o.n,e(f,!0),g(l),{}),i[m]=a[l]);n=d.apply(a[b],i),b&&(k&&k.exports!==undefined?a[b]=k.exports:j||(a[b]=n))}else b&&(a[b]=d)}var a={},b=[].slice,c;if(typeof define=="function")return;requirejs=c=function(b,d,e,f){return typeof b=="string"?a[h(b,d).f]:(b.splice||(d.splice?(b=d,d=arguments[2]):b=[]),f?i(null,b,d,e):setTimeout(function(){i(null,b,d,e)},15),c)},c.config=function(){return c},require||(require=c),define=function(a,b,c){b.splice||(c=b,b=[]),i(a,b,c)},define.amd={}})(),define("../lib/almond.js",function(){}),function(a,b,c,d){function e(a){throw a}function j(a){return function(){return a}}function k(d){function k(a,b,c){c&&b!==l.k.r(a)&&l.k.S(a,b),b!==l.k.r(a)&&l.a.va(a,"change")}var l="undefined"!=typeof d?d:{};l.b=function(a,b){for(var c=a.split("."),d=l,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b},l.B=function(a,b,c){a[b]=c},l.version="2.1.0",l.b("version",l.version),l.a=new function(){function d(a,b){if("input"!==l.a.o(a)||!a.type||"click"!=b.toLowerCase())return i;var c=a.type;return"checkbox"==c||"radio"==c}var j=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,k={},o={};k[/Firefox\/2/i.test(c.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],k.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var q in k){var r=k[q];if(r.length)for(var u=0,v=r.length;u<v;u++)o[r[u]]=q}var w={propertychange:g},x=function(){for(var a=3,c=b.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->",d[0];);return 4<a?a:f}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],v:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])},j:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ab:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d]))return a[d];return h},ba:function(a,b){var c=l.a.j(a,b);0<=c&&a.splice(c,1)},za:function(a){for(var a=a||[],b=[],c=0,d=a.length;c<d;c++)0>l.a.j(b,a[c])&&b.push(a[c]);return b},T:function(a,b){for(var a=a||[],c=[],d=0,e=a.length;d<e;d++)c.push(b(a[d]));return c},aa:function(a,b){for(var a=a||[],c=[],d=0,e=a.length;d<e;d++)b(a[d])&&c.push(a[d]);return c},N:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},extend:function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},ga:function(a){for(;a.firstChild;)l.removeNode(a.firstChild)},Ab:function(a){for(var a=l.a.L(a),c=b.createElement("div"),d=0,e=a.length;d<e;d++)l.F(a[d]),c.appendChild(a[d]);return c},X:function(a,b){l.a.ga(a);if(b)for(var c=0,d=b.length;c<d;c++)a.appendChild(b[c])},Na:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,f=0,g=b.length;f<g;f++)e.insertBefore(b[f],d);f=0;for(g=c.length;f<g;f++)l.removeNode(c[f])}},Pa:function(a,b){0>c.userAgent.indexOf("MSIE 6")?a.selected=b:a.setAttribute("selected",b)},w:function(a){return(a||"").replace(j,"")},Ib:function(a,b){for(var c=[],d=(a||"").split(b),e=0,f=d.length;e<f;e++){var g=l.a.w(d[e]);""!==g&&c.push(g)}return c},Hb:function(a,b){return a=a||"",b.length>a.length?i:a.substring(0,b.length)===b},eb:function(a,b){for(var c="return ("+a+")",d=0;d<b;d++)c="with(sc["+d+"]) { "+c+" } ";return new Function("sc",c)},kb:function(a,b){if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a!=h;){if(a==b)return g;a=a.parentNode}return i},fa:function(a){return l.a.kb(a,a.ownerDocument)},o:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(a,b,c){var f=x&&w[b];if(!f&&"undefined"!=typeof jQuery){if(d(a,b))var h=c,c=function(a,b){var c=this.checked;b&&(this.checked=b.fb!==g),h.call(this,a),this.checked=c};jQuery(a).bind(b,c)}else!f&&"function"==typeof a.addEventListener?a.addEventListener(b,c,i):"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,function(b){c.call(a,b)}):e(Error("Browser doesn't support addEventListener or attachEvent"))},va:function(c,f){(!c||!c.nodeType)&&e(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var h=[];d(c,f)&&h.push({fb:c.checked}),jQuery(c).trigger(f,h)}else"function"==typeof b.createEvent?"function"==typeof c.dispatchEvent?(h=b.createEvent(o[f]||"HTMLEvents"),h.initEvent(f,g,g,a,0,0,0,0,0,i,i,i,i,0,c),c.dispatchEvent(h)):e(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof c.fireEvent?(d(c,f)&&(c.checked=c.checked!==g),c.fireEvent("on"+f)):e(Error("Browser doesn't support triggering events"))},d:function(a){return l.la(a)?a():a},Ua:function(a,b,c){var d=(a.className||"").split(/\s+/),e=0<=l.a.j(d,b);if(c&&!e)a.className+=(d[0]?" ":"")+b;else if(e&&!c){c="";for(e=0;e<d.length;e++)d[e]!=b&&(c+=d[e]+" ");a.className=l.a.w(c)}},Qa:function(a,b){var c=l.a.d(b);if(c===h||c===f)c="";"innerText"in a?a.innerText=c:a.textContent=c,9<=x&&(a.style.display=a.style.display)},lb:function(a){if(9<=x){var b=a.style.width;a.style.width=0,a.style.width=b}},Eb:function(a,b){for(var a=l.a.d(a),b=l.a.d(b),c=[],d=a;d<=b;d++)c.push(d);return c},L:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},tb:6===x,ub:7===x,ja:x,Da:function(a,b){for(var c=l.a.L(a.getElementsByTagName("input")).concat(l.a.L(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;0<=f;f--)d(c[f])&&e.push(c[f]);return e},Bb:function(b){return"string"==typeof b&&(b=l.a.w(b))?a.JSON&&a.JSON.parse?a.JSON.parse(b):(new Function("return "+b))():h},sa:function(a,b,c){return("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")),JSON.stringify(l.a.d(a),b,c)},Cb:function(a,c,d){var d=d||{},e=d.params||{},f=d.includeFields||this.Ca,g=a;if("object"==typeof a&&"form"===l.a.o(a))for(var g=a.action,h=f.length-1;0<=h;h--)for(var i=l.a.Da(a,f[h]),j=i.length-1;0<=j;j--)e[i[j].name]=i[j].value;var c=l.a.d(c),k=b.createElement("form");k.style.display="none",k.action=g,k.method="post";for(var m in c)a=b.createElement("input"),a.name=m,a.value=l.a.sa(l.a.d(c[m])),k.appendChild(a);for(m in e)a=b.createElement("input"),a.name=m,a.value=e[m],k.appendChild(a);b.body.appendChild(k),d.submitter?d.submitter(k):k.submit(),setTimeout(function(){k.parentNode.removeChild(k)},0)}}},l.b("utils",l.a),l.b("utils.arrayForEach",l.a.v),l.b("utils.arrayFirst",l.a.ab),l.b("utils.arrayFilter",l.a.aa),l.b("utils.arrayGetDistinctValues",l.a.za),l.b("utils.arrayIndexOf",l.a.j),l.b("utils.arrayMap",l.a.T),l.b("utils.arrayPushAll",l.a.N),l.b("utils.arrayRemoveItem",l.a.ba),l.b("utils.extend",l.a.extend),l.b("utils.fieldsIncludedWithJsonPost",l.a.Ca),l.b("utils.getFormFields",l.a.Da),l.b("utils.postJson",l.a.Cb),l.b("utils.parseJson",l.a.Bb),l.b("utils.registerEventHandler",l.a.n),l.b("utils.stringifyJson",l.a.sa),l.b("utils.range",l.a.Eb),l.b("utils.toggleDomNodeCssClass",l.a.Ua),l.b("utils.triggerEvent",l.a.va),l.b("utils.unwrapObservable",l.a.d),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments),a=c.shift();return function(){return b.apply(a,c.concat(Array.prototype.slice.call(arguments)))}}),l.a.f=new function(){var a=0,b="__ko__"+(new Date).getTime(),c={};return{get:function(a,b){var c=l.a.f.getAll(a,i);return c===f?f:c[b]},set:function(a,b,c){c===f&&l.a.f.getAll(a,i)===f||(l.a.f.getAll(a,g)[b]=c)},getAll:function(d,e){var f=d[b];if(!f||"null"===f){if(!e)return;f=d[b]="ko"+a++,c[f]={}}return c[f]},clear:function(a){var d=a[b];d&&(delete c[d],a[b]=h)}}},l.b("utils.domData",l.a.f),l.b("utils.domData.clear",l.a.f.clear),l.a.G=new function(){function a(a,b){var d=l.a.f.get(a,c);return d===f&&b&&(d=[],l.a.f.set(a,c,d)),d}function b(c){var d=a(c,i);if(d)for(var d=d.slice(0),e=0;e<d.length;e++)d[e](c);l.a.f.clear(c),"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([c]);if(h[c.nodeType])for(d=c.firstChild;c=d;)d=c.nextSibling,8===c.nodeType&&b(c)}var c="__ko_domNodeDisposal__"+(new Date).getTime(),d={1:g,8:g,9:g},h={1:g,9:g};return{wa:function(b,c){"function"!=typeof c&&e(Error("Callback must be a function")),a(b,g).push(c)},Ma:function(b,d){var e=a(b,i);e&&(l.a.ba(e,d),0==e.length&&l.a.f.set(b,c,f))},F:function(a){if(d[a.nodeType]&&(b(a),h[a.nodeType])){var c=[];l.a.N(c,a.getElementsByTagName("*"));for(var a=0,e=c.length;a<e;a++)b(c[a])}},removeNode:function(a){l.F(a),a.parentNode&&a.parentNode.removeChild(a)}}},l.F=l.a.G.F,l.removeNode=l.a.G.removeNode,l.b("cleanNode",l.F),l.b("removeNode",l.removeNode),l.b("utils.domNodeDisposal",l.a.G),l.b("utils.domNodeDisposal.addDisposeCallback",l.a.G.wa),l.b("utils.domNodeDisposal.removeDisposeCallback",l.a.G.Ma),function(){l.a.pa=function(c){var d;if("undefined"!=typeof jQuery){if((d=jQuery.clean([c]))&&d[0]){for(c=d[0];c.parentNode&&11!==c.parentNode.nodeType;)c=c.parentNode;c.parentNode&&c.parentNode.removeChild(c)}}else{var e=l.a.w(c).toLowerCase();d=b.createElement("div"),e=e.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!e.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!e.indexOf("<td")||!e.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],c="ignored<div>"+e[1]+c+e[2]+"</div>";for("function"==typeof a.innerShiv?d.appendChild(a.innerShiv(c)):d.innerHTML=c;e[0]--;)d=d.lastChild;d=l.a.L(d.lastChild.childNodes)}return d},l.a.Y=function(a,b){l.a.ga(a);if(b!==h&&b!==f)if("string"!=typeof b&&(b=b.toString()),"undefined"!=typeof jQuery)jQuery(a).html(b);else for(var c=l.a.pa(b),d=0;d<c.length;d++)a.appendChild(c[d])}}(),l.b("utils.parseHtmlFragment",l.a.pa),l.b("utils.setHtml",l.a.Y),l.s=function(){function a(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function b(a,c){if(a)if(8==a.nodeType){var d=l.s.Ja(a.nodeValue);d!=h&&c.push({jb:a,yb:d})}else if(1==a.nodeType)for(var d=0,e=a.childNodes,f=e.length;d<f;d++)b(e[d],c)}var c={};return{na:function(b){"function"!=typeof b&&e(Error("You can only pass a function to ko.memoization.memoize()"));var d=a()+a();return c[d]=b,"<!--[ko_memo:"+d+"]-->"},Va:function(a,b){var d=c[a];d===f&&e(Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized."));try{return d.apply(h,b||[]),g}finally{delete c[a]}},Wa:function(a,c){var d=[];b(a,d);for(var e=0,f=d.length;e<f;e++){var g=d[e].jb,h=[g];c&&l.a.N(h,c),l.s.Va(d[e].yb,h),g.nodeValue="",g.parentNode&&g.parentNode.removeChild(g)}},Ja:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:h}}}(),l.b("memoization",l.s),l.b("memoization.memoize",l.s.na),l.b("memoization.unmemoize",l.s.Va),l.b("memoization.parseMemoText",l.s.Ja),l.b("memoization.unmemoizeDomNodeAndDescendants",l.s.Wa),l.Ba={throttle:function(a,b){a.throttleEvaluation=b;var c=h;return l.h({read:a,write:function(d){clearTimeout(c),c=setTimeout(function(){a(d)},b)}})},notify:function(a,b){return a.equalityComparer="always"==b?j(i):l.m.fn.equalityComparer,a}},l.b("extenders",l.Ba),l.Sa=function(a,b,c){this.target=a,this.ca=b,this.ib=c,l.B(this,"dispose",this.A)},l.Sa.prototype.A=function(){this.sb=g,this.ib()},l.R=function(){this.u={},l.a.extend(this,l.R.fn),l.B(this,"subscribe",this.ta),l.B(this,"extend",this.extend),l.B(this,"getSubscriptionsCount",this.ob)},l.R.fn={ta:function(a,b,c){var c=c||"change",a=b?a.bind(b):a,d=new l.Sa(this,a,function(){l.a.ba(this.u[c],d)}.bind(this));return this.u[c]||(this.u[c]=[]),this.u[c].push(d),d},notifySubscribers:function(a,b){b=b||"change",this.u[b]&&l.a.v(this.u[b].slice(0),function(b){b&&b.sb!==g&&b.ca(a)})},ob:function(){var a=0,b;for(b in this.u)this.u.hasOwnProperty(b)&&(a+=this.u[b].length);return a},extend:function(a){var b=this;if(a)for(var c in a){var d=l.Ba[c];"function"==typeof d&&(b=d(b,a[c]))}return b}},l.Ga=function(a){return"function"==typeof a.ta&&"function"==typeof a.notifySubscribers},l.b("subscribable",l.R),l.b("isSubscribable",l.Ga),l.U=function(){var a=[];return{bb:function(b){a.push({ca:b,Aa:[]})},end:function(){a.pop()},La:function(b){l.Ga(b)||e(Error("Only subscribable things can act as dependencies"));if(0<a.length){var c=a[a.length-1];0<=l.a.j(c.Aa,b)||(c.Aa.push(b),c.ca(b))}}}}();var o={"undefined":g,"boolean":g,number:g,string:g};l.m=function(a){function b(){if(0<arguments.length){if(!b.equalityComparer||!b.equalityComparer(c,arguments[0]))b.I(),c=arguments[0],b.H();return this}return l.U.La(b),c}var c=a;return l.R.call(b),b.H=function(){b.notifySubscribers(c)},b.I=function(){b.notifySubscribers(c,"beforeChange")},l.a.extend(b,l.m.fn),l.B(b,"valueHasMutated",b.H),l.B(b,"valueWillMutate",b.I),b},l.m.fn={equalityComparer:function(a,b){return a===h||typeof a in o?a===b:i}};var q=l.m.Db="__ko_proto__";l.m.fn[q]=l.m,l.ia=function(a,b){return a===h||a===f||a[q]===f?i:a[q]===b?g:l.ia(a[q],b)},l.la=function(a){return l.ia(a,l.m)},l.Ha=function(a){return"function"==typeof a&&a[q]===l.m||"function"==typeof a&&a[q]===l.h&&a.pb?g:i},l.b("observable",l.m),l.b("isObservable",l.la),l.b("isWriteableObservable",l.Ha),l.Q=function(a){0==arguments.length&&(a=[]),a!==h&&a!==f&&!("length"in a)&&e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var b=l.m(a);return l.a.extend(b,l.Q.fn),b},l.Q.fn={remove:function(a){for(var b=this(),c=[],d="function"==typeof a?a:function(b){return b===a},e=0;e<b.length;e++){var f=b[e];d(f)&&(0===c.length&&this.I(),c.push(f),b.splice(e,1),e--)}return c.length&&this.H(),c},removeAll:function(a){if(a===f){var b=this(),c=b.slice(0);return this.I(),b.splice(0,b.length),this.H(),c}return a?this.remove(function(b){return 0<=l.a.j(a,b)}):[]},destroy:function(a){var b=this(),c="function"==typeof a?a:function(b){return b===a};this.I();for(var d=b.length-1;0<=d;d--)c(b[d])&&(b[d]._destroy=g);this.H()},destroyAll:function(a){return a===f?this.destroy(j(g)):a?this.destroy(function(b){return 0<=l.a.j(a,b)}):[]},indexOf:function(a){var b=this();return l.a.j(b,a)},replace:function(a,b){var c=this.indexOf(a);0<=c&&(this.I(),this()[c]=b,this.H())}},l.a.v("pop push reverse shift sort splice unshift".split(" "),function(a){l.Q.fn[a]=function(){var b=this();return this.I(),b=b[a].apply(b,arguments),this.H(),b}}),l.a.v(["slice"],function(a){l.Q.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),l.b("observableArray",l.Q),l.h=function(a,b,c){function d(){l.a.v(z,function(a){a.A()}),z=[]}function k(){var a=q.throttleEvaluation;a&&0<=a?(clearTimeout(F),F=setTimeout(o,a)):o()}function o(){if(!w)if(v&&D())B();else{w=g;try{var a=l.a.T(z,function(a){return a.target});l.U.bb(function(b){var c;0>(c=l.a.j(a,b))?z.push(b.ta(k)):a[c]=f});for(var c=x.call(b),d=a.length-1;0<=d;d--)a[d]&&z.splice(d,1)[0].A();v=g,q.notifySubscribers(u,"beforeChange"),u=c}finally{l.U.end()}q.notifySubscribers(u),w=i}}function q(){if(0<arguments.length)r.apply(q,arguments);else return v||o(),l.U.La(q),u}function r(){"function"==typeof y?y.apply(b,arguments):e(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var u,v=i,w=i,x=a;x&&"object"==typeof x?(c=x,x=c.read):(c=c||{},x||(x=c.read)),"function"!=typeof x&&e(Error("Pass a function that returns the value of the ko.computed"));var y=c.write;b||(b=c.owner);var z=[],B=d,C="object"==typeof c.disposeWhenNodeIsRemoved?c.disposeWhenNodeIsRemoved:h,D=c.disposeWhen||j(i);if(C){B=function(){l.a.G.Ma(C,arguments.callee),d()},l.a.G.wa(C,B);var E=D,D=function(){return!l.a.fa(C)||E()}}var F=h;return q.nb=function(){return z.length},q.pb="function"==typeof c.write,q.A=function(){B()},l.R.call(q),l.a.extend(q,l.h.fn),c.deferEvaluation!==g&&o(),l.B(q,"dispose",q.A),l.B(q,"getDependenciesCount",q.nb),q},l.rb=function(a){return l.ia(a,l.h)},d=l.m.Db,l.h[d]=l.m,l.h.fn={},l.h.fn[d]=l.h,l.b("dependentObservable",l.h),l.b("computed",l.h),l.b("isComputed",l.rb),function(){function a(d,e,g){g=g||new c,d=e(d);if("object"!=typeof d||d===h||d===f||d instanceof Date)return d;var i=d instanceof Array?[]:{};return g.save(d,i),b(d,function(b){var c=e(d[b]);switch(typeof c){case"boolean":case"number":case"string":case"function":i[b]=c;break;case"object":case"undefined":var h=g.get(c);i[b]=h!==f?h:a(c,e,g)}}),i}function b(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function c(){var a=[],b=[];this.save=function(c,d){var e=l.a.j(a,c);0>e?(a.push(c),b.push(d)):b[e]=d},this.get=function(c){return c=l.a.j(a,c),0>c?f:b[c]}}l.Ta=function(b){return 0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert.")),a(b,function(a){for(var b=0;l.la(a)&&10>b;b++)a=a();return a})},l.toJSON=function(a,b,c){return a=l.Ta(a),l.a.sa(a,b,c)}}(),l.b("toJS",l.Ta),l.b("toJSON",l.toJSON),function(){l.k={r:function(a){switch(l.a.o(a)){case"option":return a.__ko__hasDomDataOptionValue__===g?l.a.f.get(a,l.c.options.oa):a.getAttribute("value");case"select":return 0>a.selectedIndex?f:l.k.r(a.options[a.selectedIndex]);default:return a.value}},S:function(a,b){switch(l.a.o(a)){case"option":switch(typeof b){case"string":l.a.f.set(a,l.c.options.oa,f),"__ko__hasDomDataOptionValue__"in a&&delete a.__ko__hasDomDataOptionValue__,a.value=b;break;default:l.a.f.set(a,l.c.options.oa,b),a.__ko__hasDomDataOptionValue__=g,a.value="number"==typeof b?b:""}break;case"select":for(var c=a.options.length-1;0<=c;c--)if(l.k.r(a.options[c])==b){a.selectedIndex=c;break}break;default:if(b===h||b===f)b="";a.value=b}}}}(),l.b("selectExtensions",l.k),l.b("selectExtensions.readValue",l.k.r),l.b("selectExtensions.writeValue",l.k.S),l.g=function(){function a(a,c){for(var d=h;a!=d;)d=a,a=a.replace(b,function(a,b){return c[b]});return a}var b=/\@ko_token_(\d+)\@/g,c=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,d=["true","false"];return{D:[],W:function(b){var c=l.a.w(b);if(3>c.length)return[];"{"===c.charAt(0)&&(c=c.substring(1,c.length-1));for(var b=[],d=h,e,f=0;f<c.length;f++){var g=c.charAt(f);if(d===h)switch(g){case'"':case"'":case"/":d=f,e=g}else if(g==e&&"\\"!==c.charAt(f-1)){g=c.substring(d,f+1),b.push(g);var i="@ko_token_"+(b.length-1)+"@",c=c.substring(0,d)+i+c.substring(f+1),f=f-(g.length-i.length),d=h}}e=d=h;for(var j=0,k=h,f=0;f<c.length;f++){g=c.charAt(f);if(d===h)switch(g){case"{":d=f,k=g,e="}";break;case"(":d=f,k=g,e=")";break;case"[":d=f,k=g,e="]"}g===k?j++:g===e&&(j--,0===j&&(g=c.substring(d,f+1),b.push(g),i="@ko_token_"+(b.length-1)+"@",c=c.substring(0,d)+i+c.substring(f+1),f-=g.length-i.length,d=h))}e=[],c=c.split(","),d=0;for(f=c.length;d<f;d++)j=c[d],k=j.indexOf(":"),0<k&&k<j.length-1?(g=j.substring(k+1),e.push({key:a(j.substring(0,k),b),value:a(g,b)})):e.push({unknown:a(j,b)});return e},ka:function(a){for(var b="string"==typeof a?j.g.W(a):a,e=[],a=[],f,g=0;f=b[g];g++)if(0<e.length&&e.push(","),f.key){var i;j:{i=f.key;var k=j.a.w(i);switch(k.length&&k.charAt(0)){case"'":case'"':break j;default:i="'"+k+"'"}}f=f.value,e.push(i),e.push(":"),e.push(f),k=j.a.w(f);if(0>j.a.j(d,j.a.w(k).toLowerCase())?k.match(c)!==h:0)0<a.length&&a.push(", "),a.push(i+" : function(__ko_value) { "+f+" = __ko_value; }")}else f.unknown&&e.push(f.unknown);return b=e.join(""),0<a.length&&(b=b+", '_ko_property_writers' : { "+a.join("")+" } "),b},wb:function(a,b){for(var c=0;c<a.length;c++)if(l.a.w(a[c].key)==b)return g;return i},$:function(a,b,c,d,e){!a||!l.Ha(a)?(a=b()._ko_property_writers)&&a[c]&&a[c](d):(!e||a()!==d)&&a(d)}}}(),l.b("jsonExpressionRewriting",l.g),l.b("jsonExpressionRewriting.bindingRewriteValidators",l.g.D),l.b("jsonExpressionRewriting.parseObjectLiteral",l.g.W),l.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",l.g.ka),function(){function a(a){return 8==a.nodeType&&(i?a.text:a.nodeValue).match(j)}function c(a){return 8==a.nodeType&&(i?a.text:a.nodeValue).match(k)}function d(b,d){for(var f=b,g=1,i=[];f=f.nextSibling;){if(c(f)&&(g--,0===g))return i;i.push(f),a(f)&&g++}return d||e(Error("Cannot find closing comment tag to match: "+b.nodeValue)),h}function f(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:h}var i="<!--test-->"===b.createComment("test").text,j=i?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,k=i?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,n={ul:g,ol:g};l.e={C:{},childNodes:function(b){return a(b)?d(b):b.childNodes},ha:function(b){if(a(b))for(var b=l.e.childNodes(b),c=0,d=b.length;c<d;c++)l.removeNode(b[c]);else l.a.ga(b)},X:function(b,c){if(a(b)){l.e.ha(b);for(var d=b.nextSibling,e=0,f=c.length;e<f;e++)d.parentNode.insertBefore(c[e],d)}else l.a.X(b,c)},Ka:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},Fa:function(b,c,d){a(b)?b.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?b.insertBefore(c,d.nextSibling):b.appendChild(c)},firstChild:function(b){return a(b)?!b.nextSibling||c(b.nextSibling)?h:b.nextSibling:b.firstChild},nextSibling:function(b){return a(b)&&(b=f(b)),b.nextSibling&&c(b.nextSibling)?h:b.nextSibling},Xa:function(b){return(b=a(b))?b[1]:h},Ia:function(b){if(n[l.a.o(b)]){var d=b.firstChild;if(d)do if(1===d.nodeType){var e;e=d.firstChild;var i=h;if(e)do if(i)i.push(e);else if(a(e)){var j=f(e,g);j?e=j:i=[e]}else c(e)&&(i=[e]);while(e=e.nextSibling);if(e=i){i=d.nextSibling;for(j=0;j<e.length;j++)i?b.insertBefore(e[j],i):b.appendChild(e[j])}}while(d=d.nextSibling)}}}}(),l.b("virtualElements",l.e),l.b("virtualElements.allowedBindings",l.e.C),l.b("virtualElements.emptyNode",l.e.ha),l.b("virtualElements.insertAfter",l.e.Fa),l.b("virtualElements.prepend",l.e.Ka),l.b("virtualElements.setDomNodeChildren",l.e.X),function(){l.J=function(){this.cb={}},l.a.extend(l.J.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind")!=h;case 8:return l.e.Xa(a)!=h;default:return i}},getBindings:function(a,b){var c=this.getBindingsString(a,b);return c?this.parseBindingsString(c,b):h},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return l.e.Xa(a);default:return h}},parseBindingsString:function(a,b){try{var c=b.$data,c="object"==typeof c&&c!=h?[c,b]:[b],d=c.length,f=this.cb,g=d+"_"+a,i;if(!(i=f[g])){var j=" { "+l.g.ka(a)+" } ";i=f[g]=l.a.eb(j,d)}return i(c)}catch(k){e(Error("Unable to parse bindings.\nMessage: "+k+";\nBindings value: "+a))}}}),l.J.instance=new l.J}(),l.b("bindingProvider",l.J),function(){function b(a,b,d){for(var e=l.e.firstChild(b);b=e;)e=l.e.nextSibling(b),c(a,b,d)}function c(a,c,e){var f=g,i=1===c.nodeType;i&&l.e.Ia(c);if(i&&e||l.J.instance.nodeHasBindings(c))f=d(c,h,a,e).Gb;f&&b(a,c,!i)}function d(a,b,c,d){function g(a){return function(){return k[a]}}function i(){return k}var j=0,k,o;return l.h(function(){var h=c&&c instanceof l.z?c:new l.z(l.a.d(c)),p=h.$data;d&&l.Ra(a,h);if(k=("function"==typeof b?b():b)||l.J.instance.getBindings(a,h)){if(0===j){j=1;for(var q in k){var r=l.c[q];r&&8===a.nodeType&&!l.e.C[q]&&e(Error("The binding '"+q+"' cannot be used with virtual elements")),r&&"function"==typeof r.init&&(r=(0,r.init)(a,g(q),i,p,h))&&r.controlsDescendantBindings&&(o!==f&&e(Error("Multiple bindings ("+o+" and "+q+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),o=q)}j=2}if(2===j)for(q in k)(r=l.c[q])&&"function"==typeof r.update&&(0,r.update)(a,g(q),i,p,h)}},h,{disposeWhenNodeIsRemoved:a}),{Gb:o===f}}l.c={},l.z=function(a,b){b?(l.a.extend(this,b),this.$parentContext=b,this.$parent=b.$data,this.$parents=(b.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=a),this.$data=a},l.z.prototype.createChildContext=function(a){return new l.z(a,this)},l.z.prototype.extend=function(a){var b=l.a.extend(new l.z,this);return l.a.extend(b,a)},l.Ra=function(a,b){if(2==arguments.length)l.a.f.set(a,"__ko_bindingContext__",b);else return l.a.f.get(a,"__ko_bindingContext__")},l.ya=function(a,b,c){return 1===a.nodeType&&l.e.Ia(a),d(a,b,c,g)},l.Ya=function(a,c){(1===c.nodeType||8===c.nodeType)&&b(a,c,g)},l.xa=function(b,d){d&&1!==d.nodeType&&8!==d.nodeType&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node")),d=d||a.document.body,c(b,d,g)},l.ea=function(a){switch(a.nodeType){case 1:case 8:var b=l.Ra(a);if(b)return b;if(a.parentNode)return l.ea(a.parentNode)}},l.hb=function(a){return(a=l.ea(a))?a.$data:f},l.b("bindingHandlers",l.c),l.b("applyBindings",l.xa),l.b("applyBindingsToDescendants",l.Ya),l.b("applyBindingsToNode",l.ya),l.b("contextFor",l.ea),l.b("dataFor",l.hb)}(),l.a.v(["click"],function(a){l.c[a]={init:function(b,c,d,e){return l.c.event.init.call(this,b,function(){var b={};return b[a]=c(),b},d,e)}}}),l.c.event={init:function(a,b,c,d){var e=b()||{},f;for(f in e)(function(){var e=f;"string"==typeof e&&l.a.n(a,e,function(a){var f,h=b()[e];if(h){var j=c();try{var k=l.a.L(arguments);k.unshift(d),f=h.apply(d,k)}finally{f!==g&&(a.preventDefault?a.preventDefault():a.returnValue=i)}j[e+"Bubble"]===i&&(a.cancelBubble=g,a.stopPropagation&&a.stopPropagation())}})})()}},l.c.submit={init:function(a,b,c,d){"function"!=typeof b()&&e(Error("The value for a submit binding must be a function")),l.a.n(a,"submit",function(c){var e,f=b();try{e=f.call(d,a)}finally{e!==g&&(c.preventDefault?c.preventDefault():c.returnValue=i)}})}},l.c.visible={update:function(a,b){var c=l.a.d(b()),d="none"!=a.style.display;c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}},l.c.enable={update:function(a,b){var c=l.a.d(b());c&&a.disabled?a.removeAttribute("disabled"):!c&&!a.disabled&&(a.disabled=g)}},l.c.disable={update:function(a,b){l.c.enable.update(a,function(){return!l.a.d(b())})}},l.c.value={init:function(a,b,c){function d(){var d=b(),e=l.k.r(a);l.g.$(d,c,"value",e,g)}var e=["change"],f=c().valueUpdate;f&&("string"==typeof f&&(f=[f]),l.a.N(e,f),e=l.a.za(e));if(l.a.ja&&"input"==a.tagName.toLowerCase()&&"text"==a.type&&"off"!=a.autocomplete&&(!a.form||"off"!=a.form.autocomplete)&&-1==l.a.j(e,"propertychange")){var h=i;l.a.n(a,"propertychange",function(){h=g}),l.a.n(a,"blur",function(){h&&(h=i,d())})}l.a.v(e,function(b){var c=d;l.a.Hb(b,"after")&&(c=function(){setTimeout(d,0)},b=b.substring(5)),l.a.n(a,b,c)})},update:function(a,b){var c="select"===l.a.o(a),d=l.a.d(b()),e=l.k.r(a),f=d!=e;0===d&&0!==e&&"0"!==e&&(f=g),f&&(e=function(){l.k.S(a,d)},e(),c&&setTimeout(e,0)),c&&0<a.length&&k(a,d,i)}},l.c.options={update:function(a,c,d){"select"!==l.a.o(a)&&e(Error("options binding applies only to SELECT elements"));for(var i=0==a.length,j=l.a.T(l.a.aa(a.childNodes,function(a){return a.tagName&&"option"===l.a.o(a)&&a.selected}),function(a){return l.k.r(a)||a.innerText||a.textContent}),o=a.scrollTop,q=l.a.d(c());0<a.length;)l.F(a.options[0]),a.remove(0);if(q){d=d(),"number"!=typeof q.length&&(q=[q]);if(d.optionsCaption){var r=b.createElement("option");l.a.Y(r,d.optionsCaption),l.k.S(r,f),a.appendChild(r)}for(var c=0,t=q.length;c<t;c++){var r=b.createElement("option"),u="string"==typeof d.optionsValue?q[c][d.optionsValue]:q[c],u=l.a.d(u);l.k.S(r,u);var v=d.optionsText,u="function"==typeof v?v(q[c]):"string"==typeof v?q[c][v]:u;if(u===h||u===f)u="";l.a.Qa(r,u),a.appendChild(r)}q=a.getElementsByTagName("option"),c=r=0;for(t=q.length;c<t;c++)0<=l.a.j(j,l.k.r(q[c]))&&(l.a.Pa(q[c],g),r++);a.scrollTop=o,i&&"value"in d&&k(a,l.a.d(d.value),g),l.a.lb(a)}}},l.c.options.oa="__ko.optionValueDomData__",l.c.selectedOptions={Ea:function(a){for(var b=[],a=a.childNodes,c=0,d=a.length;c<d;c++){var e=a[c],f=l.a.o(e);"option"==f&&e.selected?b.push(l.k.r(e)):"optgroup"==f&&(e=l.c.selectedOptions.Ea(e),Array.prototype.splice.apply(b,[b.length,0].concat(e)))}return b},init:function(a,b,c){l.a.n(a,"change",function(){var a=b(),d=l.c.selectedOptions.Ea(this);l.g.$(a,c,"value",d)})},update:function(a,b){"select"!=l.a.o(a)&&e(Error("values binding applies only to SELECT elements"));var c=l.a.d(b());if(c&&"number"==typeof c.length)for(var d=a.childNodes,f=0,g=d.length;f<g;f++){var h=d[f];"option"===l.a.o(h)&&l.a.Pa(h,0<=l.a.j(c,l.k.r(h)))}}},l.c.text={update:function(a,b){l.a.Qa(a,b())}},l.c.html={init:function(){return{controlsDescendantBindings:g}},update:function(a,b){var c=l.a.d(b());l.a.Y(a,c)}},l.c.css={update:function(a,b){var c=l.a.d(b()||{}),d;for(d in c)if("string"==typeof d){var e=l.a.d(c[d]);l.a.Ua(a,d,e)}}},l.c.style={update:function(a,b){var c=l.a.d(b()||{}),d;for(d in c)if("string"==typeof d){var e=l.a.d(c[d]);a.style[d]=e||""}}},l.c.uniqueName={init:function(a,c){c()&&(a.name="ko_unique_"+ ++l.c.uniqueName.gb,(l.a.tb||l.a.ub)&&a.mergeAttributes(b.createElement("<input name='"+a.name+"'/>"),i))}},l.c.uniqueName.gb=0,l.c.checked={init:function(a,b,c){l.a.n(a,"click",function(){var d;if("checkbox"==a.type)d=a.checked;else if("radio"==a.type&&a.checked)d=a.value;else return;var e=b();"checkbox"==a.type&&l.a.d(e)instanceof Array?(d=l.a.j(l.a.d(e),a.value),a.checked&&0>d?e.push(a.value):!a.checked&&0<=d&&e.splice(d,1)):l.g.$(e,c,"checked",d,g)}),"radio"==a.type&&!a.name&&l.c.uniqueName.init(a,j(g))},update:function(a,b){var c=l.a.d(b());"checkbox"==a.type?a.checked=c instanceof Array?0<=l.a.j(c,a.value):c:"radio"==a.type&&(a.checked=a.value==c)}};var r={"class":"className","for":"htmlFor"};l.c.attr={update:function(a,b){var c=l.a.d(b())||{},d;for(d in c)if("string"==typeof d){var e=l.a.d(c[d]),g=e===i||e===h||e===f;g&&a.removeAttribute(d),8>=l.a.ja&&d in r?(d=r[d],g?a.removeAttribute(d):a[d]=e):g||a.setAttribute(d,e.toString())}}},l.c.hasfocus={init:function(a,b,c){function d(a){var d=b();l.g.$(d,c,"hasfocus",a,g)}l.a.n(a,"focus",function(){d(g)}),l.a.n(a,"focusin",function(){d(g)}),l.a.n(a,"blur",function(){d(i)}),l.a.n(a,"focusout",function(){d(i)})},update:function(a,b){var c=l.a.d(b());c?a.focus():a.blur(),l.a.va(a,c?"focusin":"focusout")}},l.c["with"]={p:function(a){return function(){var b=a();return{"if":b,data:b,templateEngine:l.q.K}}},init:function(a,b){return l.c.template.init(a,l.c["with"].p(b))},update:function(a,b,c,d,e){return l.c.template.update(a,l.c["with"].p(b),c,d,e)}},l.g.D["with"]=i,l.e.C["with"]=g,l.c["if"]={p:function(a){return function(){return{"if":a(),templateEngine:l.q.K}}},init:function(a,b){return l.c.template.init(a,l.c["if"].p(b))},update:function(a,b,c,d,e){return l.c.template.update(a,l.c["if"].p(b),c,d,e)}},l.g.D["if"]=i,l.e.C["if"]=g,l.c.ifnot={p:function(a){return function(){return{ifnot:a(),templateEngine:l.q.K}}},init:function(a,b){return l.c.template.init(a,l.c.ifnot.p(b))},update:function(a,b,c,d,e){return l.c.template.update(a,l.c.ifnot.p(b),c,d,e)}},l.g.D.ifnot=i,l.e.C.ifnot=g,l.c.foreach={p:function(a){return function(){var b=l.a.d(a());return!b||"number"==typeof b.length?{foreach:b,templateEngine:l.q.K}:{foreach:b.data,includeDestroyed:b.includeDestroyed,afterAdd:b.afterAdd,beforeRemove:b.beforeRemove,afterRender:b.afterRender,templateEngine:l.q.K}}},init:function(a,b){return l.c.template.init(a,l.c.foreach.p(b))},update:function(a,b,c,d,e){return l.c.template.update(a,l.c.foreach.p(b),c,d,e)}},l.g.D.foreach=i,l.e.C.foreach=g,l.t=function(){},l.t.prototype.renderTemplateSource=function(){e(Error("Override renderTemplateSource"))},l.t.prototype.createJavaScriptEvaluatorBlock=function(){e(Error("Override createJavaScriptEvaluatorBlock"))},l.t.prototype.makeTemplateSource=function(a,c){if("string"==typeof a){var c=c||b,d=c.getElementById(a);return d||e(Error("Cannot find template with ID "+a)),new l.l.i(d)}if(1==a.nodeType||8==a.nodeType)return new l.l.M(a);e(Error("Unknown template type: "+a))},l.t.prototype.renderTemplate=function(a,b,c,d){return this.renderTemplateSource(this.makeTemplateSource(a,d),b,c)},l.t.prototype.isTemplateRewritten=function(a,c){return this.allowTemplateRewriting===i||(!c||c==b)&&this.V&&this.V[a]?g:this.makeTemplateSource(a,c).data("isRewritten")},l.t.prototype.rewriteTemplate=function(a,c,d){var e=this.makeTemplateSource(a,d),c=c(e.text());e.text(c),e.data("isRewritten",g),(!d||d==b)&&"string"==typeof a&&(this.V=this.V||{},this.V[a]=g)},l.b("templateEngine",l.t),l.Z=function(){function a(a,b,c){for(var a=l.g.W(a),d=l.g.D,f=0;f<a.length;f++){var g=a[f].key;if(d.hasOwnProperty(g)){var h=d[g];"function"==typeof h?(g=h(a[f].value))&&e(Error(g)):h||e(Error("This template engine does not support the '"+g+"' binding within its templates"))}}return a="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+l.g.ka(a)+" } })()         })",c.createJavaScriptEvaluatorBlock(a)+b}var b=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,c=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(a,b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return l.Z.zb(a,b)},c)},zb:function(d,e){return d.replace(b,function(b,c,d,f,g,h,i){return a(i,c,e)}).replace(c,function(b,c){return a(c,"<!-- ko -->",e)})},Za:function(a){return l.s.na(function(b,c){b.nextSibling&&l.ya(b.nextSibling,a,c)})}}}(),l.b("templateRewriting",l.Z),l.b("templateRewriting.applyMemoizedBindingsToNextSibling",l.Z.Za),function(){l.l={},l.l.i=function(a){this.i=a},l.l.i.prototype.text=function(){var a=l.a.o(this.i),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.i[a];var b=arguments[0];"innerHTML"===a?l.a.Y(this.i,b):this.i[a]=b},l.l.i.prototype.data=function(a){if(1===arguments.length)return l.a.f.get(this.i,"templateSourceData_"+a);l.a.f.set(this.i,"templateSourceData_"+a,arguments[1])},l.l.M=function(a){this.i=a},l.l.M.prototype=new l.l.i,l.l.M.prototype.text=function(){if(0==arguments.length){var a=l.a.f.get(this.i,"__ko_anon_template__")||{};return a.ua===f&&a.da&&(a.ua=a.da.innerHTML),a.ua}l.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})},l.l.i.prototype.nodes=function(){if(0==arguments.length)return(l.a.f.get(this.i,"__ko_anon_template__")||{}).da;l.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]})},l.b("templateSources",l.l),l.b("templateSources.domElement",l.l.i),l.b("templateSources.anonymousTemplate",l.l.M)}(),function(){function a(a,b,c){for(var d,b=l.e.nextSibling(b);a&&(d=a)!==b;)a=l.e.nextSibling(d),(1===d.nodeType||8===d.nodeType)&&c(d)}function b(b,c){if(b.length){var d=b[0],e=b[b.length-1];a(d,e,function(a){l.xa(c,a)}),a(d,e,function(a){l.s.Wa(a,[c])})}}function c(a){return a.nodeType?a:0<a.length?a[0]:h}function d(a,d,f,h,k){var k=k||{},n=a&&c(a),n=n&&n.ownerDocument,o=k.templateEngine||j;l.Z.mb(f,o,n),f=o.renderTemplate(f,h,k,n),("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)&&e(Error("Template engine must return an array of DOM nodes")),n=i;switch(d){case"replaceChildren":l.e.X(a,f),n=g;break;case"replaceNode":l.a.Na(a,f),n=g;break;case"ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+d))}return n&&(b(f,h),k.afterRender&&k.afterRender(f,h.$data)),f}var j;l.ra=function(a){a!=f&&!(a instanceof l.t)&&e(Error("templateEngine must inherit from ko.templateEngine")),j=a},l.qa=function(a,b,g,i,k){g=g||{},(g.templateEngine||j)==f&&e(Error("Set a template engine before calling renderTemplate")),k=k||"replaceChildren";if(i){var o=c(i);return l.h(function(){var e=b&&b instanceof l.z?b:new l.z(l.a.d(b)),f="function"==typeof a?a(e.$data):a,e=d(i,k,f,e,g);"replaceNode"==k&&(i=e,o=c(i))},h,{disposeWhen:function(){return!o||!l.a.fa(o)},disposeWhenNodeIsRemoved:o&&"replaceNode"==k?o.parentNode:o})}return l.s.na(function(c){l.qa(a,b,g,c,"replaceNode")})},l.Fb=function(a,c,e,g,i){function j(a,c){b(c,m),e.afterRender&&e.afterRender(c,a)}function k(b,c){var f="function"==typeof a?a(b):a;return m=i.createChildContext(l.a.d(b)),m.$index=c,d(h,"ignoreTargetNode",f,m,e)}var m;return l.h(function(){var a=l.a.d(c)||[];"undefined"==typeof a.length&&(a=[a]),a=l.a.aa(a,function(a){return e.includeDestroyed||a===f||a===h||!l.a.d(a._destroy)}),l.a.Oa(g,a,k,e,j)},h,{disposeWhenNodeIsRemoved:g})},l.c.template={init:function(a,b){var c=l.a.d(b());return"string"!=typeof c&&!c.name&&(1==a.nodeType||8==a.nodeType)&&(c=1==a.nodeType?a.childNodes:l.e.childNodes(a),c=l.a.Ab(c),(new l.l.M(a)).nodes(c)),{controlsDescendantBindings:g}},update:function(a,b,c,d,e){b=l.a.d(b()),d=g,"string"==typeof b?c=b:(c=b.name,"if"in b&&(d=d&&l.a.d(b["if"])),"ifnot"in b&&(d=d&&!l.a.d(b.ifnot)));var f=h;"object"==typeof b&&"foreach"in b?f=l.Fb(c||a,d&&b.foreach||[],b,a,e):d?(e="object"==typeof b&&"data"in b?e.createChildContext(l.a.d(b.data)):e,f=l.qa(c||a,e,b,a)):l.e.ha(a),e=f,(b=l.a.f.get(a,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof b.A&&b.A(),l.a.f.set(a,"__ko__templateSubscriptionDomDataKey__",e)}},l.g.D.template=function(a){return a=l.g.W(a),1==a.length&&a[0].unknown||l.g.wb(a,"name")?h:"This template engine does not support anonymous templates nested within its templates"},l.e.C.template=g}(),l.b("setTemplateEngine",l.ra),l.b("renderTemplate",l.qa),function(){l.a.O=function(a,b,c){if(c===f)return l.a.O(a,b,1)||l.a.O(a,b,10)||l.a.O(a,b,Number.MAX_VALUE);for(var a=a||[],b=b||[],d=a,e=b,g=[],i=0;i<=e.length;i++)g[i]=[];for(var i=0,j=Math.min(d.length,c);i<=j;i++)g[0][i]=i;i=1;for(j=Math.min(e.length,c);i<=j;i++)g[i][0]=i;for(var j=d.length,k,m=e.length,i=1;i<=j;i++){k=Math.max(1,i-c);for(var o=Math.min(m,i+c);k<=o;k++)g[k][i]=d[i-1]===e[k-1]?g[k-1][i-1]:Math.min(g[k-1][i]===f?Number.MAX_VALUE:g[k-1][i]+1,g[k][i-1]===f?Number.MAX_VALUE:g[k][i-1]+1)}c=a.length,d=b.length,e=[],i=g[d][c];if(i===f)g=h;else{for(;0<c||0<d;){j=g[d][c],m=0<d?g[d-1][c]:i+1,o=0<c?g[d][c-1]:i+1,k=0<d&&0<c?g[d-1][c-1]:i+1;if(m===f||m<j-1)m=i+1;if(o===f||o<j-1)o=i+1;k<j-1&&(k=i+1),m<=o&&m<k?(e.push({status:"added",value:b[d-1]}),d--):(o<m&&o<k?e.push({status:"deleted",value:a[c-1]}):(e.push({status:"retained",value:a[c-1]}),d--),c--)}g=e.reverse()}return g}}(),l.b("utils.compareArrays",l.a.O),function(){function a(a){if(2<a.length){for(var b=a[0],c=a[a.length-1],d=[b];b!==c;){b=b.nextSibling;if(!b)return;d.push(b)}Array.prototype.splice.apply(a,[0,a.length].concat(d))}}function b(b,c,d,e,f){var g=[],b=l.h(function(){var b=c(d,f)||[];0<g.length&&(a(g),l.a.Na(g,b),e&&e(d,b)),g.splice(0,g.length),l.a.N(g,b)},h,{disposeWhenNodeIsRemoved:b,disposeWhen:function(){return 0==g.length||!l.a.fa(g[0])}});return{xb:g,h:b}}l.a.Oa=function(c,d,e,j,k){for(var d=d||[],j=j||{},m=l.a.f.get(c,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===f,o=l.a.f.get(c,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],q=l.a.T(o,function(a){return a.$a}),r=l.a.O(q,d),d=[],u=0,v=[],w=0,q=[],x=h,y=0,z=r.length;y<z;y++)switch(r[y].status){case"retained":var A=o[u];A.qb(w),w=d.push(A),0<A.P.length&&(x=A.P[A.P.length-1]),u++;break;case"deleted":o[u].h.A(),a(o[u].P),l.a.v(o[u].P,function(a){v.push({element:a,index:y,value:r[y].value}),x=a}),u++;break;case"added":for(var A=r[y].value,B=l.m(w),w=b(c,e,A,k,B),C=w.xb,w=d.push({$a:r[y].value,P:C,h:w.h,qb:B}),D=0,E=C.length;D<E;D++){var F=C[D];q.push({element:F,index:y,value:r[y].value}),x==h?l.e.Ka(c,F):l.e.Fa(c,F,x),x=F}k&&k(A,C,B)}l.a.v(v,function(a){l.F(a.element)}),e=i;if(!m){if(j.afterAdd)for(y=0;y<q.length;y++)j.afterAdd(q[y].element,q[y].index,q[y].value);if(j.beforeRemove){for(y=0;y<v.length;y++)j.beforeRemove(v[y].element,v[y].index,v[y].value);e=g}}if(!e&&v.length)for(y=0;y<v.length;y++)j=v[y].element,j.parentNode&&j.parentNode.removeChild(j);l.a.f.set(c,"setDomNodeChildrenFromArrayMapping_lastMappingResult",d)}}(),l.b("utils.setDomNodeChildrenFromArrayMapping",l.a.Oa),l.q=function(){this.allowTemplateRewriting=i},l.q.prototype=new l.t,l.q.prototype.renderTemplateSource=function(a){var b=9<=l.a.ja&&a.nodes?a.nodes():h;return b?l.a.L(b.cloneNode(g).childNodes):(a=a.text(),l.a.pa(a))},l.q.K=new l.q,l.ra(l.q.K),l.b("nativeTemplateEngine",l.q),function(){l.ma=function(){var a=this.vb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl)return 0;try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(c,d,f){f=f||{},2>a&&e(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var g=c.data("precompiled");return g||(g=c.text()||"",g=jQuery.template(h,"{{ko_with $item.koBindingContext}}"+g+"{{/ko_with}}"),c.data("precompiled",g)),c=[d.$data],d=jQuery.extend({koBindingContext:d},f.templateOptions),d=jQuery.tmpl(g,c,d),d.appendTo(b.createElement("div")),jQuery.fragments={},d},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,c){b.write("<script type='text/html' id='"+a+"'>"+c+"</script>")},0<a&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},l.ma.prototype=new l.t;var a=new l.ma;0<a.vb&&l.ra(a),l.b("jqueryTmplTemplateEngine",l.ma)}()}var f=void 0,g=!0,h=null,i=!1;"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?k(module.exports||exports):"function"==typeof define&&define.amd?define("../api/knockout-2.1.0",["exports"],k):k(a.ko={}),g}(window,document,navigator),function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d=typeof location!="undefined"&&location.href,e=d&&location.protocol&&location.protocol.replace(/\:/,""),f=d&&location.hostname,g=d&&(location.port||void 0),h=[];define("text",[],function(){var l,r;return l={version:"1.0.8",strip:function(a){if(a){var a=a.replace(b,""),d=a.match(c);d&&(a=d[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var b,c,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(c=0;c<3;c++){d=a[c];try{b=new ActiveXObject(d)}catch(e){}if(b){a=[d];break}}return b},parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),a=a.substring(c+1,a.length),c=a.indexOf("!");return c!==-1&&(b=a.substring(c+1,a.length),b=b==="strip",a=a.substring(0,c)),{moduleName:d,ext:a,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,d){var e=l.xdRegExp.exec(a),f;return e?(a=e[2],e=e[3],e=e.split(":"),f=e[1],e=e[0],(!a||a===b)&&(!e||e===c)&&(!f&&!e||f===d)):!0},finishLoad:function(a,b,c,d,e){c=b?l.strip(c):c,e.isBuild&&(h[a]=c),d(c)},load:function(a,b,c,h){if(h.isBuild&&!h.inlineText)c();else{var j=l.parseName(a),k=j.moduleName+"."+j.ext,m=b.toUrl(k),n=h&&h.text&&h.text.useXhr||l.useXhr;!d||n(m,e,f,g)?l.get(m,function(b){l.finishLoad(a,j.strip,b,c,h)}):b([k],function(a){l.finishLoad(j.moduleName+"."+j.ext,j.strip,a,c,h)})}},write:function(a,b,c){if(h.hasOwnProperty(b)){var d=l.jsEscape(h[b]);c.asModule(a+"!"+b,"define(function () { return '"+d+"';});\n")}},writeFile:function(a,b,c,d,e){var b=l.parseName(b),f=b.moduleName+"."+b.ext,g=c.toUrl(b.moduleName+"."+b.ext)+".js";l.load(f,c,function(){var b=function(a){return d(g,a)};b.asModule=function(a,b){return d.asModule(a,g,b)},l.write(a,f,b,e)},e)}},l.createXhr()?l.get=function(a,b){var c=l.createXhr();c.open("GET",a,!0),c.onreadystatechange=function(){c.readyState===4&&b(c.responseText)},c.send(null)}:typeof process!="undefined"&&process.versions&&process.versions.node?(r=require.nodeRequire("fs"),l.get=function(a,b){var c=r.readFileSync(a,"utf8");c.indexOf("ï»¿")===0&&(c=c.substring(1)),b(c)}):typeof Packages!="undefined"&&(l.get=function(a,b){var c=new java.io.File(a),d=java.lang.System.getProperty("line.separator"),c=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(c),"utf-8")),e,f,g="";try{e=new java.lang.StringBuffer,(f=c.readLine())&&f.length()&&f.charAt(0)===65279&&(f=f.substring(1));for(e.append(f);(f=c.readLine())!==null;)e.append(d),e.append(f);g=String(e.toString())}finally{c.close()}b(g)}),l})}(),define("text!tpl/hello.txt",[],function(){return"Hello World!\n"}),define("tpl/index.js",["text!tpl/hello.txt"],function(a){return alert(a),{hello:a}}),define("amdtemplate",["../api/knockout-2.1.0","tpl/index.js"],function(a,b){function c(b,c){return b.makeTemplateSource=function(b){return new a.templateSources.stringTemplate(b,c)},b}a.templateSources.stringTemplate=function(a,b){this.templateName=a,this.templates=b},a.templateSources.stringTemplate.prototype={text:function(a){if(arguments.length===0)return this.templates[this.templateName];this.templates[this.templateName]=a},data:function(a,b){this.templates._data=this.templates._data||{},this.templates._data[this.templateName]=this.templates._data[this.templateName]||{};if(arguments.length===1)return this.templates._data[this.templateName][a];this.templates._data[this.templateName][a]=b}},a.setTemplateEngine(c(new a.nativeTemplateEngine,b))})